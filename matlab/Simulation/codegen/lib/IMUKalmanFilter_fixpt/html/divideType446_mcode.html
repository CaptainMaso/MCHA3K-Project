<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,114" id="srcline114">114</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,115" id="srcline115">115</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,116" id="srcline116">116</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,117" id="srcline117">117</a></span><span class="line"><span class="keyword">function</span> <span class="var type1" id="S120T171U1788">ntype</span> = divideType(<span class="var type1" id="S121T163U1791">a</span>,<span class="var type1" id="S122T168U1792">b</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,118" id="srcline118">118</a></span><span class="line">    coder.inline( <span class="string">'always'</span> );</span></span>
<span class="srcline"><span class="lineno"><a href="1,119" id="srcline119">119</a></span><span class="line">    <span class="mxinfo " id="T144:U4"><span class="var type1" id="S124T145U1801">nt1</span> = <span class="mxinfo " id="T144:U6">numerictype( <span class="var type1" id="S121T163U1804">a</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,120" id="srcline120">120</a></span><span class="line">    <span class="mxinfo " id="T160:U8"><span class="var type1" id="S126T161U1807">nt2</span> = <span class="mxinfo " id="T160:U10">numerictype( <span class="var type1" id="S122T168U1810">b</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,121" id="srcline121">121</a></span><span class="line">    <span class="mxinfo " id="T12:U12"><span class="var type1" id="S127T12U1813">maxFL</span> = <span class="mxinfo " id="T12:U14">max( [ min( <span class="var type1" id="S124T145U1821">nt1</span>.WordLength, <span class="var type1" id="S124T145U1824">nt1</span>.FractionLength ), min( <span class="var type1" id="S126T161U1829">nt2</span>.WordLength, <span class="var type1" id="S126T161U1832">nt2</span>.FractionLength ) ] )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,122" id="srcline122">122</a></span><span class="line">    <span class="mxinfo " id="T12:U19"><span class="var type1" id="S130T12U1836">FL</span> = <span class="mxinfo " id="T12:U21">max( <span class="var type1" id="S127T12U1839">maxFL</span>, 24 )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,123" id="srcline123">123</a></span><span class="line">    <span class="mxinfo " id="T12:U23"><span class="var type1" id="S131T12U1843">extraBits</span> = (<span class="mxinfo " id="T12:U25"><span class="var type1" id="S130T12U1846">FL</span> - <span class="var type1" id="S127T12U1847">maxFL</span></span>)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,124" id="srcline124">124</a></span><span class="line">    <span class="mxinfo " id="T12:U28"><span class="var type1" id="S132T12U1850">WL</span> = <span class="mxinfo " id="T12:U30"><span class="var type1" id="S124T145U1853">nt1</span>.WordLength + <span class="var type1" id="S126T161U1856">nt2</span>.WordLength</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,125" id="srcline125">125</a></span><span class="line">    <span class="mxinfo " id="T12:U33"><span class="var type1" id="S132T12U1860">WL</span> = <span class="mxinfo " id="T12:U35">min( <span class="var type1" id="S132T12U1863">WL</span>, 124 )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,126" id="srcline126">126</a></span><span class="line">    <span class="keyword">if</span> (<span class="var type1" id="S132T12U1870">WL</span> + <span class="var type1" id="S131T12U1871">extraBits</span>)&lt;64</span></span>
<span class="srcline"><span class="lineno"><a href="1,127" id="srcline127">127</a></span><span class="line">        <span class="mxinfo " id="T171:U39"><span class="var type1" id="S120T172U1875">ntype</span> = <span class="mxinfo " id="T171:U41">numerictype( <span class="mxinfo " id="T11:U42"><span class="var type1" id="S124T145U1880">nt1</span>.Signed || <span class="var type0" id="S126T0U1883">nt2</span>.Signed</span>, <span class="var type1" id="S132T12U1886">WL</span> + <span class="var type1" id="S131T12U1887">extraBits</span>, <span class="var type1" id="S130T12U1888">FL</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,128" id="srcline128">128</a></span><span class="line">    <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,129" id="srcline129">129</a></span><span class="line">        <span class="var type0" id="S120T0U1892">ntype</span> = numerictype( <span class="var type0" id="S124T0U1897">nt1</span>.Signed || <span class="var type0" id="S126T0U1900">nt2</span>.Signed, <span class="var type0" id="S132T0U1902">WL</span>, <span class="var type0" id="S130T0U1903">FL</span> );</span></span>
<span class="srcline"><span class="lineno"><a href="1,130" id="srcline130">130</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,131" id="srcline131">131</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,132" id="srcline132">132</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,133" id="srcline133">133</a></span><span class="line"></span></span>
</pre>
