<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="8,114" id="srcline114">114</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="8,115" id="srcline115">115</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="8,116" id="srcline116">116</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="8,117" id="srcline117">117</a></span><span class="line"><span class="keyword">function</span> <span class="var type1" id="S120T150U1788">ntype</span> = divideType(<span class="var type1" id="S121T151U1791">a</span>,<span class="var type1" id="S122T141U1792">b</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="8,118" id="srcline118">118</a></span><span class="line">    coder.inline( <span class="string">'always'</span> );</span></span>
<span class="srcline"><span class="lineno"><a href="8,119" id="srcline119">119</a></span><span class="line">    <span class="mxinfo " id="T149:U4"><span class="var type1" id="S124T258U1801">nt1</span> = <span class="mxinfo " id="T149:U6">numerictype( <span class="var type1" id="S121T151U1804">a</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="8,120" id="srcline120">120</a></span><span class="line">    <span class="mxinfo " id="T137:U8"><span class="var type1" id="S126T515U1807">nt2</span> = <span class="mxinfo " id="T137:U10">numerictype( <span class="var type1" id="S122T141U1810">b</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="8,121" id="srcline121">121</a></span><span class="line">    <span class="mxinfo " id="T1:U12"><span class="var type1" id="S127T1U1813">maxFL</span> = <span class="mxinfo " id="T1:U14">max( [ min( <span class="var type1" id="S124T258U1821">nt1</span>.WordLength, <span class="var type1" id="S124T258U1824">nt1</span>.FractionLength ), min( <span class="var type1" id="S126T515U1829">nt2</span>.WordLength, <span class="var type1" id="S126T515U1832">nt2</span>.FractionLength ) ] )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="8,122" id="srcline122">122</a></span><span class="line">    <span class="mxinfo " id="T1:U19"><span class="var type1" id="S130T1U1836">FL</span> = <span class="mxinfo " id="T1:U21">max( <span class="var type1" id="S127T1U1839">maxFL</span>, 24 )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="8,123" id="srcline123">123</a></span><span class="line">    <span class="mxinfo " id="T1:U23"><span class="var type1" id="S131T1U1843">extraBits</span> = (<span class="mxinfo " id="T1:U25"><span class="var type1" id="S130T1U1846">FL</span> - <span class="var type1" id="S127T1U1847">maxFL</span></span>)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="8,124" id="srcline124">124</a></span><span class="line">    <span class="mxinfo " id="T1:U28"><span class="var type1" id="S132T1U1850">WL</span> = <span class="mxinfo " id="T1:U30"><span class="var type1" id="S124T258U1853">nt1</span>.WordLength + <span class="var type1" id="S126T515U1856">nt2</span>.WordLength</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="8,125" id="srcline125">125</a></span><span class="line">    <span class="mxinfo " id="T1:U33"><span class="var type1" id="S132T1U1860">WL</span> = <span class="mxinfo " id="T1:U35">min( <span class="var type1" id="S132T1U1863">WL</span>, 124 )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="8,126" id="srcline126">126</a></span><span class="line">    <span class="keyword">if</span> (<span class="var type1" id="S132T1U1870">WL</span> + <span class="var type1" id="S131T1U1871">extraBits</span>)&lt;64</span></span>
<span class="srcline"><span class="lineno"><a href="8,127" id="srcline127">127</a></span><span class="line">        <span class="mxinfo " id="T150:U39"><span class="var type1" id="S120T521U1875">ntype</span> = <span class="mxinfo " id="T150:U41">numerictype( <span class="mxinfo " id="T39:U42"><span class="var type1" id="S124T258U1880">nt1</span>.Signed || <span class="var type0" id="S126T0U1883">nt2</span>.Signed</span>, <span class="var type1" id="S132T1U1886">WL</span> + <span class="var type1" id="S131T1U1887">extraBits</span>, <span class="var type1" id="S130T1U1888">FL</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="8,128" id="srcline128">128</a></span><span class="line">    <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="8,129" id="srcline129">129</a></span><span class="line">        <span class="var type0" id="S120T0U1892">ntype</span> = numerictype( <span class="var type0" id="S124T0U1897">nt1</span>.Signed || <span class="var type0" id="S126T0U1900">nt2</span>.Signed, <span class="var type0" id="S132T0U1902">WL</span>, <span class="var type0" id="S130T0U1903">FL</span> );</span></span>
<span class="srcline"><span class="lineno"><a href="8,130" id="srcline130">130</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="8,131" id="srcline131">131</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="8,132" id="srcline132">132</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="8,133" id="srcline133">133</a></span><span class="line"></span></span>
</pre>
